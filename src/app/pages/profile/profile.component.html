<app-toast></app-toast>
<app-header title="Profile"></app-header>
<div class="mx-auto max-w-md px-6 bg-white border-0 sm:rounded-3xl">
  <div class="mt-3 sm:mx-auto sm:w-full sm:max-w-sm">
    <form
      [formGroup]="profileForm"
      class="space-y-3"
      (ngSubmit)="onSubmit($event)"
    >
      <div>
        <label
          for="email"
          class="block text-sm font-medium leading-6 text-gray-900"
          >Full name</label
        >
        <div class="mt-2">
          <input
            formControlName="fullName"
            id="fullname"
            name="fullname"
            type="text"
            required
            class="block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
            [ngClass]="{ 'is-invalid': submitted && f.fullName.errors }"
          />
        </div>
        <div *ngIf="submitted && f.fullName.errors" class="invalid-feedback">
          <div *ngIf="f.fullName.errors?.required" class="text-red-800 text-sm">
            Full name is required
          </div>
        </div>
      </div>
      <div>
        <label
          for="username"
          class="block text-sm font-medium leading-6 text-gray-900"
          >Usename</label
        >
        <div class="mt-2">
          <input
            formControlName="username"
            id="username"
            name="username"
            type="text"
            required
            [disabled]="true"
            class="block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 disabled:bg-gray-200 disabled:cursor-not-allowed disabled:text-gray-500"
          />
        </div>
      </div>
      <div>
        <label
          for="email"
          class="block text-sm font-medium leading-6 text-gray-900"
          >Email</label
        >
        <div class="mt-2">
          <input
            formControlName="email"
            id="email"
            name="email"
            type="email"
            required
            class="block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
            [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
          />
        </div>
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required" class="text-red-800 text-sm">
            Email is required
          </div>
        </div>
      </div>
      <div>
        <label
          for="email"
          class="block text-sm font-medium leading-6 text-gray-900"
          >Facebook</label
        >
        <div class="mt-2">
          <input
            formControlName="facebookAccount"
            id="facebookAccount"
            name="facebookAccount"
            type="facebookAccount"
            required
            class="block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
          />
        </div>
      </div>
      <app-combobox
        label="Gender"
        formControlName="gender"
        [options]="genderOptions"
        placeholder="Select Gender"
      ></app-combobox>

      <app-datepicker
        label="Date of birth"
        controlName="dateOfBirth"
        (date)="getDate($event)"
      ></app-datepicker>
      <div class="mt-0">
        <label
          for="phone"
          class="block text-sm font-medium leading-6 text-gray-900"
          >Phone number</label
        >
        <div class="mt-2">
          <input
            formControlName="phone"
            id="phone"
            name="phone"
            type="text"
            required
            placeholder="+84"
            class="block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
            [ngClass]="{ 'is-invalid': submitted && f.phone.errors }"
          />
        </div>
        <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
          <div *ngIf="f.phone.errors.required" class="text-red-800 text-sm">
            Phone number is required
          </div>
        </div>
      </div>

      <div>
        <button
          type="submit"
          class="flex w-full justify-center rounded-md bg-black px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mt-4"
        >
          {{messageProfile}}
        </button>
      </div>
    </form>
    <button
          class="flex w-full justify-center rounded-md bg-black px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 mt-4" (click)="logout()"
        >
          Logout
        </button>
  </div>
</div>
